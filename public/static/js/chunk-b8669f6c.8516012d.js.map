{"version":3,"sources":["webpack:///./src/views/setup/member.vue?06c0","webpack:///src/views/setup/member.vue","webpack:///./src/views/setup/member.vue?a4e2","webpack:///./src/views/setup/member.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/views/setup/member.vue?5338"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","name","expression","userInfo","role","is_admin","staticStyle","on","addClick","_e","load","columns","data","scopedSlots","_u","key","fn","ref","row","avatar","_s","capacity","toFixed","user_size","state","$event","editClick","del","id","Number","total","page","size","$store","isMobile","pageChange","pageSizeChange","edit","creating","editSave","addSave","modal2","createData","createRules","$set","_l","item","directives","rawName","pwd","modal3","slot","modal_loading","delFunction","staticRenderFns","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,kCAAkCH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,QAAQ,YAAc,UAAU,OAAS,IAAIC,MAAM,CAACC,MAAOV,EAAQ,KAAEW,SAAS,SAAUC,GAAMZ,EAAIa,KAAKD,GAAKE,WAAW,WAAW,KAAKV,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAAgC,GAA9BN,EAAIe,SAASC,KAAKC,SAAeb,EAAG,SAAS,CAACc,YAAY,CAAC,eAAe,QAAQV,MAAM,CAAC,KAAO,UAAU,KAAO,UAAUW,GAAG,CAAC,MAAQnB,EAAIoB,WAAW,CAACpB,EAAIO,GAAG,QAAQP,EAAIqB,MAAM,GAAGjB,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,GAAG,QAAUR,EAAIsB,KAAK,QAAUtB,EAAIuB,QAAQ,KAAOvB,EAAIwB,MAAMC,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GAC/3B,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,SAAS,CAACI,MAAM,CAAC,IAAMsB,EAAIC,aAAa,CAACJ,IAAI,WAAWC,GAAG,SAASC,GAC/E,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIgC,IAAIF,EAAIG,SAAS,KAAK,KAAK,MAAMC,QAAQ,IAAI,WAAW,CAACP,IAAI,YAAYC,GAAG,SAASC,GACnH,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIgC,IAAIF,EAAIK,UAAU,KAAK,KAAK,MAAMD,QAAQ,IAAI,WAAW,CAACP,IAAI,QAAQC,GAAG,SAASC,GAChH,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAgB,IAAdA,EAAIM,MAAahC,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,QAAQ,KAAO,SAASR,EAAIqB,KAAoB,IAAdS,EAAIM,MAAahC,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,UAAU,KAAO,SAASR,EAAIqB,KAAoB,IAAdS,EAAIM,MAAahC,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,UAAU,KAAO,SAASR,EAAIqB,QAAQ,CAACM,IAAI,SAASC,GAAG,SAASC,GACtR,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,SAAS,CAACc,YAAY,CAAC,eAAe,OAAOV,MAAM,CAAC,KAAO,UAAU,KAAO,SAASW,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAOrC,EAAIsC,UAAUR,MAAQ,CAAC9B,EAAIO,GAAG,QAAQH,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,QAAQ,KAAO,SAASW,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAOrC,EAAIuC,IAAIT,EAAIU,OAAO,CAACxC,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQiC,OAAOzC,EAAI0C,OAAO,QAAU1C,EAAI2C,KAAK,YAAY3C,EAAI4C,KAAK,OAAS5C,EAAI6C,OAAOT,MAAMU,SAAS,aAAa,GAAG,aAAa,GAAG,gBAAgB,IAAI3B,GAAG,CAAC,YAAYnB,EAAI+C,WAAW,sBAAsB/C,EAAIgD,mBAAmB,IAAI,SAAS5C,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,IAAI,MAAQR,EAAIiD,KAAO,OAAS,OAAO,QAAUjD,EAAIkD,SAAS,aAAa,yBAAyB/B,GAAG,CAAC,QAAQ,SAASkB,GAAQrC,EAAIiD,KAAOjD,EAAImD,WAAanD,EAAIoD,YAAY3C,MAAM,CAACC,MAAOV,EAAU,OAAEW,SAAS,SAAUC,GAAMZ,EAAIqD,OAAOzC,GAAKE,WAAW,WAAW,CAACV,EAAG,OAAO,CAACyB,IAAI,SAASrB,MAAM,CAAC,MAAQR,EAAIsD,WAAW,MAAQtD,EAAIuD,YAAY,cAAc,MAAM,CAACnD,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAc,SAASC,MAAM,CAACC,MAAOV,EAAIsD,WAAgB,MAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,QAAS1C,IAAME,WAAW,uBAAuB,GAAGV,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,YAAY,CAACJ,EAAG,SAAS,CAACc,YAAY,CAAC,MAAQ,SAASV,MAAM,CAAC,YAAc,UAAUC,MAAM,CAACC,MAAOV,EAAIsD,WAAkB,QAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,UAAW1C,IAAME,WAAW,uBAAuBd,EAAIyD,GAAIzD,EAAY,UAAE,SAAS0D,GAAM,OAAOtD,EAAG,SAAS,CAACuB,IAAI+B,EAAKlB,GAAGhC,MAAM,CAAC,MAAQkD,EAAKlB,KAAK,CAACxC,EAAIO,GAAGP,EAAIgC,GAAG0B,EAAK7C,YAAW,IAAI,GAAGT,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACJ,EAAG,cAAc,CAACc,YAAY,CAAC,MAAQ,OAAOV,MAAM,CAAC,IAAM,GAAGC,MAAM,CAACC,MAAOV,EAAIsD,WAAmB,SAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,WAAY1C,IAAME,WAAW,0BAA0B,GAAGV,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,OAAO,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAc,SAASC,MAAM,CAACC,MAAOV,EAAIsD,WAAmB,SAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,WAAY1C,IAAME,WAAW,0BAA0B,GAAGV,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAc,WAAWC,MAAM,CAACC,MAAOV,EAAIsD,WAAgB,MAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,QAAS1C,IAAME,WAAW,uBAAuB,GAAGV,EAAG,WAAW,CAACuD,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAASlD,MAAOV,EAAQ,KAAEc,WAAW,SAASN,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGC,MAAM,CAACC,MAAOV,EAAIsD,WAAc,IAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,MAAO1C,IAAME,WAAW,oBAAoBV,EAAG,IAAI,CAACuD,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAASlD,MAA6B,GAAtBV,EAAIsD,WAAWO,IAAU/C,WAAW,wBAAwBI,YAAY,CAAC,YAAY,OAAO,MAAQ,QAAQ,CAAClB,EAAIO,GAAG,6CAA6C,GAAGH,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGC,MAAM,CAACC,MAAOV,EAAIsD,WAAgB,MAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,QAAS1C,IAAME,WAAW,uBAAuB,IAAI,IAAI,GAAGV,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,OAAOC,MAAM,CAACC,MAAOV,EAAU,OAAEW,SAAS,SAAUC,GAAMZ,EAAI8D,OAAOlD,GAAKE,WAAW,WAAW,CAACV,EAAG,IAAI,CAACc,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAAC,KAAO,UAAUuD,KAAK,UAAU,CAAC3D,EAAG,OAAO,CAACI,MAAM,CAAC,KAAO,4BAA4BJ,EAAG,OAAO,CAACJ,EAAIO,GAAG,WAAW,GAAGH,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,sDAAsDH,EAAG,MAAM,CAACI,MAAM,CAAC,KAAO,UAAUuD,KAAK,UAAU,CAAC3D,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,QAAQ,KAAO,QAAQ,KAAO,GAAG,QAAUR,EAAIgE,eAAe7C,GAAG,CAAC,MAAQnB,EAAIiE,cAAc,CAACjE,EAAIO,GAAG,WAAW,MAAM,IAC9lH2D,EAAkB,G,0pBCgHtB,OACE,KADF,WAEI,MAAJ,CACM,KAAN,EACM,KAAN,GACM,KAAN,GACM,MAAN,GACM,MAAN,EACM,KAAN,GACM,SAAN,GACM,QAAN,EACM,QAAN,EACM,MAAN,EACM,QAAN,EACQ,MAAR,KACQ,IAAR,KACQ,MAAR,SACQ,SAAR,GACQ,MAAR,QAEA,CACQ,MAAR,KACQ,MAAR,SACQ,KAAR,SACQ,SAAR,IAEA,CACQ,MAAR,QACQ,IAAR,QACQ,MAAR,SACQ,SAAR,IACQ,MAAR,QAEA,CACQ,MAAR,KACQ,IAAR,WACQ,MAAR,SACQ,SAAR,KAEA,CACQ,MAAR,OACQ,IAAR,QACQ,MAAR,SACQ,SAAR,KAEA,CACQ,MAAR,MACQ,IAAR,YACQ,MAAR,SACQ,SAAR,KAEA,CACQ,MAAR,OACQ,IAAR,cACQ,MAAR,SACQ,SAAR,KAGA,CACQ,MAAR,MACQ,MAAR,SACQ,KAAR,WACQ,SAAR,KAEA,CACQ,MAAR,OACQ,MAAR,SACQ,KAAR,YACQ,SAAR,KAGA,CACQ,MAAR,KACQ,SAAR,IACQ,MAAR,SACQ,KAAR,SAEA,CACQ,MAAR,KACQ,SAAR,IACQ,MAAR,SACQ,KAAR,SACQ,MAAR,UAGM,SAAN,GACM,WAAN,GACM,YAAN,CACQ,MAAR,EACU,UAAV,EACU,QAAV,QACU,QAAV,SAEQ,QAAR,EACU,UAAV,EACU,QAAV,WAEQ,SAAR,EACU,UAAV,EACU,QAAV,YAGM,UAAN,EACM,MAAN,GACM,eAAN,IAGE,QA3GF,WA4GI,KAAJ,WACI,KAAJ,WACA,gCACM,KAAN,eAGE,SAAF,KACA,8BAEE,MAAF,CACI,KADJ,SACA,KACA,OACQ,KAAR,OACQ,KAAR,QACQ,KAAR,cAKE,QAAF,CAEI,SAFJ,WAEM,IAAN,OACM,OAAN,OAAM,CAAN,CACQ,KAAR,UACQ,KAAR,UACQ,KAAR,YACA,kBACQ,EAAR,iBACQ,EAAR,mBACQ,EAAR,YAII,UAdJ,SAcA,GACM,KAAN,cACM,KAAN,QACM,KAAN,UACM,KAAN,kBACA,GADA,IAEQ,IAAR,IAGM,KAAN,4FACA,qBAEI,SA1BJ,WA2BM,KAAN,QACM,KAAN,UACM,KAAN,YACQ,MAAR,GACQ,QAAR,GACQ,SAAR,GACQ,MAAR,GACQ,SAAR,EACQ,MAAR,EACQ,OAAR,yEAII,QAxCJ,WAwCM,IAAN,OACM,KAAN,mCACA,GACU,OAAV,OAAU,CAAV,CACY,MAAZ,mBACY,QAAZ,qBACY,SAAZ,sBACY,MAAZ,mBACY,SAAZ,qCACY,MAAZ,mBACY,OAAZ,sBACA,kBACA,aACc,EAAd,kBACgB,YAAhB,EACgB,QAAhB,QAEc,EAAd,WACc,EAAd,WAEc,EAAd,gBACgB,YAAhB,EACgB,QAAhB,WAKU,EAAV,YACU,EAAV,sBACY,EAAZ,iBAGU,EAAV,YACU,EAAV,sBACY,EAAZ,oBAOI,SAjFJ,WAiFM,IAAN,OACM,KAAN,mCACA,GACU,OAAV,OAAU,CAAV,CACY,GAAZ,gBACY,MAAZ,mBACY,QAAZ,qBACY,SAAZ,sBACY,MAAZ,mBACY,SAAZ,qCACY,MAAZ,mBACY,IAAZ,mBACA,kBACA,aACc,EAAd,kBACgB,YAAhB,EACgB,QAAhB,QAEc,EAAd,WACc,EAAd,WAEc,EAAd,gBACgB,YAAhB,EACgB,QAAhB,WAKU,EAAV,YACU,EAAV,sBACY,EAAZ,iBAGU,EAAV,YACU,EAAV,sBACY,EAAZ,oBAQI,IA5HJ,SA4HA,GACM,KAAN,QACM,KAAN,WAGI,YAjIJ,WAiIM,IAAN,OACM,KAAN,iBACM,OAAN,OAAM,CAAN,CACQ,GAAR,aACA,kBACA,aACU,EAAV,kBACY,YAAZ,EACY,QAAZ,QAEU,EAAV,YAEU,EAAV,gBACY,YAAZ,EACY,QAAZ,QAGQ,EAAR,iBACQ,EAAR,cAKI,WAxJJ,SAwJA,GACM,KAAN,OACM,KAAN,QACM,KAAN,YAEI,eA7JJ,SA6JA,GACM,KAAN,QACM,KAAN,OACM,KAAN,OACM,KAAN,YAGI,SApKJ,WAoKM,IAAN,OACM,OAAN,OAAM,CAAN,CACQ,KAAR,EACQ,KAAR,IACQ,KAAR,KACA,kBACQ,EAAR,2BCpa+V,I,wBCQ3VC,EAAY,eACd,EACApE,EACAmE,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,uDCnBf,IAAIC,EAAK,EAAQ,QAAgBC,EAC7BC,EAASC,SAASC,UAClBC,EAAS,wBACTC,EAAO,OAGXA,KAAQJ,GAAU,EAAQ,SAAqBF,EAAGE,EAAQI,EAAM,CAC9DC,cAAc,EACdC,IAAK,WACH,IACE,OAAQ,GAAK3E,MAAM4E,MAAMJ,GAAQ,GACjC,MAAOK,GACP,MAAO,Q,kCCZb","file":"static/js/chunk-b8669f6c.8516012d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-head\"},[_vm._v(\"\\n          团队成员\\n\\n          \"),_c('div',{staticClass:\"search-input\"},[_c('Input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入邮箱搜索\",\"search\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]),_c('div',{staticClass:\"card-body padding-top0\"},[_c('div',{staticClass:\"card-menu\"},[(_vm.userInfo.role.is_admin == 1)?_c('Button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.addClick}},[_vm._v(\"新增\")]):_vm._e()],1),_c('Table',{attrs:{\"border\":\"\",\"loading\":_vm.load,\"columns\":_vm.columns,\"data\":_vm.data},scopedSlots:_vm._u([{key:\"avatar\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Avatar',{attrs:{\"src\":row.avatar}})]}},{key:\"capacity\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s((row.capacity/1024/1024/1024).toFixed(2))+\" G\")])]}},{key:\"user_size\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s((row.user_size/1024/1024/1024).toFixed(2))+\" G\")])]}},{key:\"state\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.state === 0)?_c('Badge',{attrs:{\"status\":\"error\",\"text\":\"已停用\"}}):_vm._e(),(row.state === 1)?_c('Badge',{attrs:{\"status\":\"success\",\"text\":\"已启用\"}}):_vm._e(),(row.state === 2)?_c('Badge',{attrs:{\"status\":\"warning\",\"text\":\"待审核\"}}):_vm._e()]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editClick(row)}}},[_vm._v(\"编辑\")]),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.del(row.id)}}},[_vm._v(\"删除\")])]}}])}),_c('div',{staticClass:\"paging\"},[_c('Page',{attrs:{\"total\":Number(_vm.total),\"current\":_vm.page,\"page-size\":_vm.size,\"simple\":_vm.$store.state.isMobile,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange,\"on-page-size-change\":_vm.pageSizeChange}})],1)],1)])])]),_c('Modal',{attrs:{\"width\":600,\"title\":_vm.edit ? '编辑成员' : '新增成员',\"loading\":_vm.creating,\"class-name\":\"vertical-center-modal\"},on:{\"on-ok\":function($event){_vm.edit ? _vm.editSave() : _vm.addSave()}},model:{value:(_vm.modal2),callback:function ($$v) {_vm.modal2=$$v},expression:\"modal2\"}},[_c('Form',{ref:\"create\",attrs:{\"model\":_vm.createData,\"rules\":_vm.createRules,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"邮箱/账号\",\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.createData.email),callback:function ($$v) {_vm.$set(_vm.createData, \"email\", $$v)},expression:\"createData.email\"}})],1),_c('FormItem',{attrs:{\"label\":\"角色组\",\"prop\":\"role_id\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择角色组\"},model:{value:(_vm.createData.role_id),callback:function ($$v) {_vm.$set(_vm.createData, \"role_id\", $$v)},expression:\"createData.role_id\"}},_vm._l((_vm.roleList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"总配额/G\",\"prop\":\"capacity\"}},[_c('InputNumber',{staticStyle:{\"width\":\"70%\"},attrs:{\"min\":0},model:{value:(_vm.createData.capacity),callback:function ($$v) {_vm.$set(_vm.createData, \"capacity\", $$v)},expression:\"createData.capacity\"}})],1),_c('FormItem',{attrs:{\"label\":\"姓名\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.createData.username),callback:function ($$v) {_vm.$set(_vm.createData, \"username\", $$v)},expression:\"createData.username\"}})],1),_c('FormItem',{attrs:{\"label\":\"联系电话\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.createData.phone),callback:function ($$v) {_vm.$set(_vm.createData, \"phone\", $$v)},expression:\"createData.phone\"}})],1),_c('FormItem',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit),expression:\"edit\"}],attrs:{\"label\":\"重置密码\",\"prop\":\"pwd\"}},[_c('i-switch',{attrs:{\"true-value\":1,\"false-value\":0},model:{value:(_vm.createData.pwd),callback:function ($$v) {_vm.$set(_vm.createData, \"pwd\", $$v)},expression:\"createData.pwd\"}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.createData.pwd == 1),expression:\"createData.pwd == 1\"}],staticStyle:{\"font-size\":\"12px\",\"color\":\"red\"}},[_vm._v(\"\\n          * 密码将会重置为：123456\\n        \")])],1),_c('FormItem',{attrs:{\"label\":\"状态\",\"prop\":\"state\"}},[_c('i-switch',{attrs:{\"true-value\":1,\"false-value\":0},model:{value:(_vm.createData.state),callback:function ($$v) {_vm.$set(_vm.createData, \"state\", $$v)},expression:\"createData.state\"}})],1)],1)],1),_c('Modal',{attrs:{\"width\":\"360\"},model:{value:(_vm.modal3),callback:function ($$v) {_vm.modal3=$$v},expression:\"modal3\"}},[_c('p',{staticStyle:{\"color\":\"#f60\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-information-circle\"}}),_c('span',[_vm._v(\"删除确认\")])],1),_c('div',[_c('p',[_vm._v(\"删除用户不会删除此用户之前上传的图片，可通过新增相同邮箱恢复用户，是否删除？\\n      \")])]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\",\"size\":\"large\",\"long\":\"\",\"loading\":_vm.modal_loading},on:{\"click\":_vm.delFunction}},[_vm._v(\"确认删除\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!-- \n// +----------------------------------------------------------------------\n// | LightPicture [ 图床 ]\n// +----------------------------------------------------------------------\n// | 企业团队图片资源管理系统\n// +----------------------------------------------------------------------\n// | Github: https://github.com/osuuu/LightPicture\n// +----------------------------------------------------------------------\n// | Copyright © http://picture.h234.cn All rights reserved.\n// +----------------------------------------------------------------------\n// | Author: Team <admin@osuu.net>\n// +---------------------------------------------------------------------- \n-->\n<template>\n  <div>\n    <div class=\"page-content\">\n      <div class=\"container-fluid\">\n        <div class=\"card\">\n          <div class=\"card-head\">\n            团队成员\n\n            <div class=\"search-input\">\n              <Input v-model=\"name\" size=\"small\" placeholder=\"请输入邮箱搜索\" search />\n            </div>\n          </div>\n          <div class=\"card-body padding-top0\">\n            <div class=\"card-menu\">\n              <Button v-if=\"userInfo.role.is_admin == 1\" type=\"primary\" icon=\"md-add\" @click=\"addClick\" style=\"margin-right: 10px\">新增</Button>\n            </div>\n            <Table border :loading=\"load\" :columns=\"columns\" :data=\"data\">\n              <template slot-scope=\"{ row }\" slot=\"avatar\">\n                <Avatar :src=\"row.avatar\" />\n              </template>\n              <template slot-scope=\"{ row }\" slot=\"capacity\">\n                <span>{{(row.capacity/1024/1024/1024).toFixed(2)}} G</span>\n              </template>\n              <template slot-scope=\"{ row }\" slot=\"user_size\">\n                <span>{{(row.user_size/1024/1024/1024).toFixed(2)}} G</span>\n              </template>\n\n              <template slot-scope=\"{ row }\" slot=\"state\">\n                <Badge v-if=\"row.state === 0\" status=\"error\" text=\"已停用\" />\n                <Badge v-if=\"row.state === 1\" status=\"success\" text=\"已启用\" />\n                <Badge v-if=\"row.state === 2\" status=\"warning\" text=\"待审核\" />\n              </template>\n\n              <template slot-scope=\"{ row }\" slot=\"action\">\n                <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"editClick(row)\">编辑</Button>\n                <Button type=\"error\" size=\"small\" @click=\"del(row.id)\">删除</Button>\n              </template>\n            </Table>\n            <div class=\"paging\">\n              <Page :total=\"Number(total)\" :current=\"page\" :page-size=\"size\" :simple=\"$store.state.isMobile\"\n                @on-change=\"pageChange\" @on-page-size-change=\"pageSizeChange\" show-total show-sizer show-elevator />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <Modal v-model=\"modal2\" :width=\"600\" :title=\"edit ? '编辑成员' : '新增成员'\" :loading=\"creating\"\n      @on-ok=\"edit ? editSave() : addSave()\" class-name=\"vertical-center-modal\">\n      <Form ref=\"create\" :model=\"createData\" :rules=\"createRules\" :label-width=\"100\">\n        <FormItem label=\"邮箱/账号\" prop=\"email\">\n          <Input v-model=\"createData.email\" placeholder=\"请输入邮箱\" />\n        </FormItem>\n        <FormItem label=\"角色组\" prop=\"role_id\">\n          <Select v-model=\"createData.role_id\" style=\"width: 200px\" placeholder=\"请选择角色组\">\n            <Option v-for=\"item in roleList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"总配额/G\" prop=\"capacity\">\n          <InputNumber v-model=\"createData.capacity\" :min=\"0\" style=\"width: 70%\">\n          </InputNumber>\n        </FormItem>\n        <FormItem label=\"姓名\">\n          <Input v-model=\"createData.username\" placeholder=\"请输入姓名\" />\n        </FormItem>\n        <FormItem label=\"联系电话\">\n          <Input v-model=\"createData.phone\" placeholder=\"请输入联系电话\" />\n        </FormItem>\n\n        <FormItem label=\"重置密码\" prop=\"pwd\" v-show=\"edit\">\n          <i-switch v-model=\"createData.pwd\" :true-value=\"1\" :false-value=\"0\" />\n          <p style=\"font-size:12px;color:red\" v-show=\"createData.pwd == 1\">\n            * 密码将会重置为：123456\n          </p>\n        </FormItem>\n        <FormItem label=\"状态\" prop=\"state\">\n          <i-switch v-model=\"createData.state\" :true-value=\"1\" :false-value=\"0\" />\n        </FormItem>\n\n\n      </Form>\n    </Modal>\n\n    <Modal v-model=\"modal3\" width=\"360\">\n      <p slot=\"header\" style=\"color: #f60\">\n        <Icon type=\"ios-information-circle\"></Icon>\n        <span>删除确认</span>\n      </p>\n      <div>\n        <p>删除用户不会删除此用户之前上传的图片，可通过新增相同邮箱恢复用户，是否删除？\n        </p>\n      </div>\n      <div slot=\"footer\">\n        <Button type=\"error\" size=\"large\" long :loading=\"modal_loading\" @click=\"delFunction\">确认删除</Button>\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\n  import {\n    getMember,\n    getRole,\n    postMember,\n    putMember,\n    delMember\n  } from \"@/api/index\";\n  import {\n    mapState\n  } from \"vuex\";\n  export default {\n    data() {\n      return {\n        page: 1,\n        size: 10,\n        name: \"\",\n        total: \"\",\n        load: true,\n        data: [],\n        roleInfo: {},\n        modal2: false,\n        modal3: false,\n        edit: false,\n        columns: [{\n            title: \"ID\",\n            key: \"id\",\n            align: \"center\",\n            minWidth: 80,\n            fixed: 'left'\n          },\n          {\n            title: \"头像\",\n            align: \"center\",\n            slot: \"avatar\",\n            minWidth: 70,\n          },\n          {\n            title: \"邮箱/账号\",\n            key: \"email\",\n            align: \"center\",\n            minWidth: 200,\n            fixed: 'left'\n          },\n          {\n            title: \"姓名\",\n            key: \"username\",\n            align: \"center\",\n            minWidth: 120,\n          },\n          {\n            title: \"联系电话\",\n            key: \"phone\",\n            align: \"center\",\n            minWidth: 130,\n          },\n          {\n            title: \"角色组\",\n            key: \"role_name\",\n            align: \"center\",\n            minWidth: 130,\n          },\n          {\n            title: \"创建时间\",\n            key: \"create_time\",\n            align: \"center\",\n            minWidth: 180,\n          },\n\n          {\n            title: \"总配额\",\n            align: \"center\",\n            slot: \"capacity\",\n            minWidth: 100,\n          },\n          {\n            title: \"已用容量\",\n            align: \"center\",\n            slot: \"user_size\",\n            minWidth: 100,\n          },\n\n          {\n            title: \"状态\",\n            minWidth: 130,\n            align: \"center\",\n            slot: \"state\",\n          },\n          {\n            title: \"操作\",\n            minWidth: 150,\n            align: \"center\",\n            slot: \"action\",\n            fixed: 'right'\n          },\n        ],\n        roleList: [],\n        createData: {},\n        createRules: {\n          email: [{\n            required: true,\n            message: \"请输入邮箱\",\n            trigger: \"blur\"\n          }],\n          role_id: [{\n            required: true,\n            message: \"请选择角色组\",\n          }],\n          capacity: [{\n            required: true,\n            message: \"请输入总配额\",\n          }],\n        },\n        creating: true,\n        delId: \"\",\n        modal_loading: false,\n      };\n    },\n    created() {\n      this._getData();\n      this._getRole();\n      if (this.userInfo.role.is_admin != 1) {\n        this.columns.pop()\n      }\n    },\n    computed: {\n      ...mapState([\"userInfo\"]),\n    },\n    watch: {\n      name(newVal, oldVal) {\n        if (newVal != oldVal) {\n          this.page = 1\n          this.load = true\n          this._getData();\n        }\n      },\n    },\n\n    methods: {\n      // 获取列表\n      _getData() {\n        getMember({\n          page: this.page,\n          size: this.size,\n          name: this.name,\n        }).then((res) => {\n          this.data = res.data.data;\n          this.total = res.data.total;\n          this.load = false;\n        });\n      },\n\n      editClick(row) {\n        this.createData = {}\n        this.edit = true;\n        this.modal2 = true;\n        this.createData = {\n          ...row,\n          pwd: 0\n        };\n\n        this.createData.capacity = this.createData.capacity > 0 ? this.createData.capacity / 1024 / 1024 / 1024 : this\n          .createData.capacity\n      },\n      addClick() {\n        this.edit = false;\n        this.modal2 = true;\n        this.createData = {\n          email: \"\",\n          role_id: \"\",\n          username: \"\",\n          phone: \"\",\n          capacity: 0,\n          state: 1,\n          avatar: \"https://oss.aliyuncs.com/aliyun_id_photo_bucket/default_handsome.jpg\",\n        };\n      },\n      // 新增\n      addSave() {\n        this.$refs.create.validate((valid) => {\n          if (valid) {\n            postMember({\n              email: this.createData.email,\n              role_id: this.createData.role_id,\n              username: this.createData.username,\n              phone: this.createData.phone,\n              capacity: this.createData.capacity * 1024 * 1024 * 1024,\n              state: this.createData.state,\n              avatar: this.createData.avatar,\n            }).then((res) => {\n              if (res.code == 200) {\n                this.$Message.success({\n                  background: true,\n                  content: res.msg,\n                });\n                this._getData();\n                this.modal2 = false;\n              } else {\n                this.$Message.error({\n                  background: true,\n                  content: res.msg,\n                });\n              }\n            });\n\n            this.creating = false;\n            this.$nextTick(() => {\n              this.creating = true;\n            });\n          } else {\n            this.creating = false;\n            this.$nextTick(() => {\n              this.creating = true;\n            });\n          }\n        });\n\n      },\n      // 编辑\n      editSave() {\n        this.$refs.create.validate((valid) => {\n          if (valid) {\n            putMember({\n              id: this.createData.id,\n              email: this.createData.email,\n              role_id: this.createData.role_id,\n              username: this.createData.username,\n              phone: this.createData.phone,\n              capacity: this.createData.capacity * 1024 * 1024 * 1024,\n              state: this.createData.state,\n              pwd: this.createData.pwd,\n            }).then((res) => {\n              if (res.code == 200) {\n                this.$Message.success({\n                  background: true,\n                  content: res.msg,\n                });\n                this._getData();\n                this.modal2 = false;\n              } else {\n                this.$Message.error({\n                  background: true,\n                  content: res.msg,\n                });\n              }\n            });\n\n            this.creating = false;\n            this.$nextTick(() => {\n              this.creating = true;\n            });\n          } else {\n            this.creating = false;\n            this.$nextTick(() => {\n              this.creating = true;\n            });\n          }\n        });\n      },\n\n\n      // 删除\n      del(id) {\n        this.delId = id;\n        this.modal3 = true\n      },\n      // 删除方法\n      delFunction() {\n        this.modal_loading = true\n        delMember({\n          id: this.delId,\n        }).then((res) => {\n          if (res.code == 200) {\n            this.$Message.success({\n              background: true,\n              content: res.msg,\n            });\n            this._getData();\n          } else {\n            this.$Message.error({\n              background: true,\n              content: res.msg,\n            });\n          }\n          this.modal_loading = false\n          this.modal3 = false\n        });\n      },\n\n      // 分页跳转\n      pageChange(val) {\n        this.page = val;\n        this.load = true;\n        this._getData();\n      },\n      pageSizeChange(val) {\n        this.load = true;\n        this.page = 1;\n        this.size = val;\n        this._getData();\n      },\n      // 获取存储桶列表\n      _getRole() {\n        getRole({\n          page: 1,\n          size: 100,\n          name: \"\"\n        }).then((res) => {\n          this.roleList = res.data.data;\n        });\n      },\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  /deep/.ivu-badge-status-dot {\n    width: 10px;\n    height: 10px;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./member.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./member.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./member.vue?vue&type=template&id=59d276f4&scoped=true&\"\nimport script from \"./member.vue?vue&type=script&lang=js&\"\nexport * from \"./member.vue?vue&type=script&lang=js&\"\nimport style0 from \"./member.vue?vue&type=style&index=0&id=59d276f4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59d276f4\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./member.vue?vue&type=style&index=0&id=59d276f4&lang=less&scoped=true&\""],"sourceRoot":""}