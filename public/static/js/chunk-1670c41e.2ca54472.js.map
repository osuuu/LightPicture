{"version":3,"sources":["webpack:///./src/views/setup/admin.vue?ef12","webpack:///src/views/setup/admin.vue","webpack:///./src/views/setup/admin.vue?0c61","webpack:///./src/views/setup/admin.vue","webpack:///./src/views/setup/admin.vue?43f3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","_l","item","key","id","title","attr","model","value","callback","$$v","$set","expression","_e","staticStyle","items","ind","_s","des","creating","on","$event","Save","basicsList","emailList","creating2","sendTest","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,UAAUH,EAAG,MAAM,CAACE,YAAY,aAAa,CAAEN,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACI,MAAM,CAAC,IAAM,GAAG,KAAO,YAAY,GAAGJ,EAAG,OAAO,CAACI,MAAM,CAAC,KAAO,OAAO,UAAW,IAAQ,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,OAAO,CAACI,MAAM,CAAC,cAAc,MAAM,CAACR,EAAIS,GAAIT,EAAc,YAAE,SAASU,GAAM,OAAON,EAAG,WAAW,CAACO,IAAID,EAAKE,GAAGJ,MAAM,CAAC,MAAQE,EAAKG,QAAQ,CAAe,UAAbH,EAAKI,KAAkBV,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,IAAI,cAAc,KAAKO,MAAM,CAACC,MAAON,EAAU,MAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKT,EAAM,QAASQ,IAAME,WAAW,gBAAgBpB,EAAIqB,KAAmB,UAAbX,EAAKI,KAAkBV,EAAG,cAAc,CAACkB,YAAY,CAAC,MAAQ,OAAOd,MAAM,CAAC,IAAM,GAAGO,MAAM,CAACC,MAAON,EAAU,MAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKT,EAAM,QAASQ,IAAME,WAAW,gBAAgBpB,EAAIqB,KAAmB,SAAbX,EAAKI,KAAiBV,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAcE,EAAKG,OAAOE,MAAM,CAACC,MAAON,EAAU,MAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKT,EAAM,QAASQ,IAAME,WAAW,gBAAgBpB,EAAIqB,KAAmB,SAAbX,EAAKI,KAAiBV,EAAG,aAAa,CAACW,MAAM,CAACC,MAAON,EAAU,MAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKT,EAAM,QAASQ,IAAME,WAAW,eAAepB,EAAIS,GAAIC,EAAW,QAAE,SAASa,EAAMC,GAAK,OAAOpB,EAAG,QAAQ,CAACO,IAAIa,EAAIhB,MAAM,CAAC,MAAQe,IAAQ,CAACvB,EAAIO,GAAGP,EAAIyB,GAAGF,SAAY,GAAGvB,EAAIqB,KAAMX,EAAQ,IAAEN,EAAG,IAAI,CAACkB,YAAY,CAAC,YAAY,OAAO,MAAQ,SAAS,CAACtB,EAAIO,GAAG,2BAA2BP,EAAIyB,GAAGf,EAAKgB,KAAK,0BAA0B1B,EAAIqB,MAAM,MAAKjB,EAAG,WAAW,CAACA,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,UAAU,QAAUR,EAAI2B,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAI8B,KAAK9B,EAAI+B,YAAW,MAAS,CAAC/B,EAAIO,GAAG,SAAS,IAAI,IAAI,GAAGH,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,OAAO,CAACI,MAAM,CAAC,cAAc,MAAM,CAACR,EAAIS,GAAIT,EAAa,WAAE,SAASU,GAAM,OAAON,EAAG,WAAW,CAACO,IAAID,EAAKE,GAAGJ,MAAM,CAAC,MAAQE,EAAKG,QAAQ,CAAe,SAAbH,EAAKI,KAAiBV,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAcE,EAAKG,OAAOE,MAAM,CAACC,MAAON,EAAU,MAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKT,EAAM,QAASQ,IAAME,WAAW,gBAAgBpB,EAAIqB,KAAmB,SAAbX,EAAKI,KAAiBV,EAAG,aAAa,CAACW,MAAM,CAACC,MAAON,EAAU,MAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKT,EAAM,QAASQ,IAAME,WAAW,eAAepB,EAAIS,GAAIC,EAAW,QAAE,SAASa,EAAMC,GAAK,OAAOpB,EAAG,QAAQ,CAACO,IAAIa,EAAIhB,MAAM,CAAC,MAAQe,IAAQ,CAACvB,EAAIO,GAAGP,EAAIyB,GAAGF,SAAY,GAAGvB,EAAIqB,MAAM,MAAKjB,EAAG,WAAW,CAACA,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,UAAU,QAAUR,EAAI2B,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO7B,EAAI8B,KAAK9B,EAAIgC,cAAc,CAAChC,EAAIO,GAAG,QAAQH,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,UAAU,QAAUR,EAAIiC,WAAWL,GAAG,CAAC,MAAQ5B,EAAIkC,WAAW,CAAClC,EAAIO,GAAG,aAAa,IAAI,IAAI,IAAI,IAAI,YACltF4B,EAAkB,G,gpBC6DtB,OACE,KADF,WAEI,MAAJ,CACM,UAAN,GACM,WAAN,GACM,IAAN,GACM,UAAN,EACM,WAAN,EACM,SAAN,IAGE,QAXF,WAYI,KAAJ,YAGE,QAAF,OACA,+BADA,IAGI,SAHJ,WAGM,IAAN,OACM,OAAN,OAAM,CAAN,4BACQ,EAAR,kBACQ,EAAR,cAEM,OAAN,OAAM,CAAN,2BACQ,EAAR,iBACQ,EAAR,eAII,KAdJ,SAcA,KAAM,IAAN,OACM,KAAN,YACM,OAAN,OAAM,CAAN,CACQ,WAAR,IACA,kBACA,aACU,EAAV,kBACY,YAAZ,EACY,QAAZ,QAEU,EAAV,WAEA,MACY,OAAZ,OAAY,GAAZ,kBACc,EAAd,kBACc,SAAd,aAKU,EAAV,gBACY,YAAZ,EACY,QAAZ,QAGQ,EAAR,gBAII,SA3CJ,WA2CM,IAAN,OACM,KAAN,gBACQ,MAAR,SACQ,QAAR,2CACQ,KAAR,WACU,EAAV,aACU,OAAV,OAAU,GAAV,kBACA,YACc,EAAd,kBACgB,YAAhB,EACgB,QAAhB,QAGc,EAAd,gBACgB,YAAhB,EACgB,QAAhB,QAGY,EAAZ,uBC1I8V,I,wBCQ1VC,EAAY,eACd,EACArC,EACAoC,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,sECnBf","file":"static/js/chunk-1670c41e.2ca54472.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-head\"},[_vm._v(\"系统设置\")]),_c('div',{staticClass:\"card-body\"},[(_vm.loading)?_c('div',{staticClass:\"demo-spin-container\"},[_c('Spin',{attrs:{\"fix\":\"\",\"size\":\"large\"}})],1):_c('Tabs',{attrs:{\"type\":\"card\",\"animated\":false}},[_c('TabPane',{attrs:{\"label\":\"基础配置\"}},[_c('Form',{attrs:{\"label-width\":140}},[_vm._l((_vm.basicsList),function(item){return _c('FormItem',{key:item.id,attrs:{\"label\":item.title}},[(item.attr == 'switch')?_c('i-switch',{attrs:{\"true-value\":\"1\",\"false-value\":\"0\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'number')?_c('InputNumber',{staticStyle:{\"width\":\"70%\"},attrs:{\"min\":0},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'input')?_c('Input',{attrs:{\"placeholder\":item.title},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'radio')?_c('RadioGroup',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.extend),function(items,ind){return _c('Radio',{key:ind,attrs:{\"label\":items}},[_vm._v(_vm._s(items))])}),1):_vm._e(),(item.des)?_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\"}},[_vm._v(\"\\n                    * \"+_vm._s(item.des)+\"\\n                  \")]):_vm._e()],1)}),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.creating},on:{\"click\":function($event){return _vm.Save(_vm.basicsList,true)}}},[_vm._v(\"保存\")])],1)],2)],1),_c('TabPane',{attrs:{\"label\":\"邮箱配置\"}},[_c('Form',{attrs:{\"label-width\":120}},[_vm._l((_vm.emailList),function(item){return _c('FormItem',{key:item.id,attrs:{\"label\":item.title}},[(item.attr == 'input')?_c('Input',{attrs:{\"placeholder\":item.title},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'radio')?_c('RadioGroup',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.extend),function(items,ind){return _c('Radio',{key:ind,attrs:{\"label\":items}},[_vm._v(_vm._s(items))])}),1):_vm._e()],1)}),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.creating},on:{\"click\":function($event){return _vm.Save(_vm.emailList)}}},[_vm._v(\"保存\")]),_c('Button',{attrs:{\"type\":\"warning\",\"loading\":_vm.creating2},on:{\"click\":_vm.sendTest}},[_vm._v(\"发送测试邮件\")])],1)],2)],1)],1)],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"page-content\">\n      <div class=\"container-fluid\">\n        <div class=\"card\">\n          <div class=\"card-head\">系统设置</div>\n          <div class=\"card-body\">\n            <div class=\"demo-spin-container\" v-if=\"loading\">\n              <Spin fix size=\"large\"></Spin>\n            </div>\n            <Tabs type=\"card\" :animated=\"false\" v-else>\n              <TabPane label=\"基础配置\">\n                <Form :label-width=\"140\">\n                  <FormItem v-for=\"item in basicsList\" :key=\"item.id\" :label=\"item.title\">\n                    <i-switch v-if=\"item.attr == 'switch'\" v-model=\"item.value\" true-value=\"1\" false-value=\"0\" />\n                    <InputNumber v-if=\"item.attr == 'number'\" v-model=\"item.value\" :min=\"0\" style=\"width: 70%\">\n                    </InputNumber>\n                    <Input v-if=\"item.attr == 'input'\" v-model=\"item.value\" :placeholder=\"item.title\"></Input>\n                    <RadioGroup v-if=\"item.attr == 'radio'\" v-model=\"item.value\">\n                      <Radio v-for=\"(items, ind) in item.extend\" :key=\"ind\" :label=\"items\">{{ items }}</Radio>\n                    </RadioGroup>\n                    <p style=\"font-size:12px;color:#999\" v-if=\"item.des\">\n                      * {{item.des}}\n                    </p>\n                  </FormItem>\n                  <FormItem>\n                    <Button type=\"primary\" @click=\"Save(basicsList,true)\" :loading=\"creating\">保存</Button>\n                  </FormItem>\n                </Form>\n              </TabPane>\n              <TabPane label=\"邮箱配置\">\n                <Form :label-width=\"120\">\n                  <FormItem v-for=\"item in emailList\" :key=\"item.id\" :label=\"item.title\">\n                    <Input v-if=\"item.attr == 'input'\" v-model=\"item.value\" :placeholder=\"item.title\"></Input>\n                    <RadioGroup v-if=\"item.attr == 'radio'\" v-model=\"item.value\">\n                      <Radio v-for=\"(items, ind) in item.extend\" :key=\"ind\" :label=\"items\">{{ items }}</Radio>\n                    </RadioGroup>\n                  </FormItem>\n                  <FormItem>\n                    <Button type=\"primary\" @click=\"Save(emailList)\" :loading=\"creating\">保存</Button>\n                    <Button type=\"warning\" @click=\"sendTest\" :loading=\"creating2\">发送测试邮件</Button>\n                  </FormItem>\n                </Form>\n              </TabPane>\n            </Tabs>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import {\n    getSetup,\n    putSetup,\n    postSendMail,\n    getIndex\n  } from \"@/api\";\n  import {\n    mapMutations\n  } from \"vuex\";\n  export default {\n    data() {\n      return {\n        emailList: [],\n        basicsList: [],\n        sms: {},\n        creating: false,\n        creating2: false,\n        loading: true\n      };\n    },\n    created() {\n      this._getData();\n    },\n\n    methods: {\n      ...mapMutations([\"addConfig\"]),\n      // 获取列表\n      _getData() {\n        getSetup(\"basics\").then((res) => {\n          this.basicsList = res.data;\n          this.loading = false\n        });\n        getSetup(\"email\").then((res) => {\n          this.emailList = res.data;\n          this.loading = false\n        });\n      },\n      // 基础配置\n      Save(arr, reload) {\n        this.creating = true;\n        putSetup({\n          createData: arr,\n        }).then((res) => {\n          if (res.code == 200) {\n            this.$Message.success({\n              background: true,\n              content: res.msg,\n            });\n            this._getData();\n\n            if (reload == true) {\n              getIndex().then((res) => {\n                this.addConfig(res.data)\n                location.reload();\n              });\n            }\n\n          } else {\n            this.$Message.error({\n              background: true,\n              content: res.msg,\n            });\n          }\n          this.creating = false;\n        });\n      },\n      // 测试邮件\n      sendTest() {\n        this.$Modal.confirm({\n          title: \"发送测试邮件\",\n          content: \"请确保当前设置已配置完毕且已保存，当前登录用户邮箱是否能接收邮件，是否发送测试？\",\n          onOk: () => {\n            this.creating2 = true\n            postSendMail().then(res => {\n              if (res.code == 200) {\n                this.$Message.success({\n                  background: true,\n                  content: res.msg,\n                });\n              } else {\n                this.$Message.error({\n                  background: true,\n                  content: res.msg,\n                });\n              }\n              this.creating2 = false\n            })\n          },\n        });\n\n      }\n    },\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  .card-body {\n    min-height: 435px;\n  }\n\n  .ivu-radio-wrapper {\n    margin-right: 20px;\n  }\n\n  .ivu-btn {\n    margin-right: 10px;\n  }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./admin.vue?vue&type=template&id=1818cf33&scoped=true&\"\nimport script from \"./admin.vue?vue&type=script&lang=js&\"\nexport * from \"./admin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./admin.vue?vue&type=style&index=0&id=1818cf33&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1818cf33\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=style&index=0&id=1818cf33&lang=less&scoped=true&\""],"sourceRoot":""}